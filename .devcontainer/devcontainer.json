{
  // https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/configuring-dev-containers/setting-a-minimum-specification-for-codespace-machines
  "image": "debian:bookworm-slim",
  "features": {
    "ghcr.io/devcontainers/features/nix:1": {}
  },
  "postCreateCommand": "nix-env -iA nixpkgs.direnv && echo 'eval \"$(direnv hook bash)\"' >> ~/.bashrc && direnv allow",
  // avoids https://code.visualstudio.com/docs/sourcecontrol/faq#_why-is-vs-code-warning-me-that-the-git-repository-is-potentially-unsafe (because of nix)
  "postStartCommand": "git config --global --add safe.directory ${containerWorkspaceFolder}",
  "remoteEnv": {
    "DIRENV_LOG_FORMAT": ""
  },
  "customizations": {
		// Configure properties specific to VS Code. See https://containers.dev/supporting#visual-studio-code
		"vscode": {
			// Set *default* container specific settings.json values on container create.
			"settings": {},
			"extensions": [
        "jnoortheen.nix-ide"
      ]
		}
  }
}